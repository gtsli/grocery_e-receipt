# Disclaimer

Currently, all of the approaches have been trained on synthetic data that was generated by rules we believed were indicative of the real world receipt mappings. All models will need to be further tuned with real world data once it has been attained.

# LSTM Approach

This approach to understand receipt mappings involves the use of an LSTM (Long Short-Term Memory) model. Currently, there are too many classifications for this classifier to be trained on. The current model has not been tested yet, but has 90% train accuracy on 50k labels. LSTM_generator.ipynb was an attempt to train on all of our data but is still being tested. 

## Running

Open a terminal or command prompt. Navigate to the root directoy. Type:
```
$ jupyter notebook
```
Navigate to:
```
/approaches/LSTM/
```
Run LSTM.ipynb for the current LSTM implementation. 




<img src="../imgs/run_all.png" width="200" height="200">




Please note, this notebook is only for retraining a model. It will take a while to run until completion. All trained models are stored in 
```
/approaches/LSTM/models/
```
# Edit Distance

Edit Distance, or Levenshtein Distance, measures the similarity between two strings by counting the number of operations needed to transform one string into the other. In our case, we are going from the abbreviated receipt title to the full product title. We implemented Weighted Edit Distance, a variation on Edit Distance, that weights Add operations more lightly than Remove and Substitute operations, which leads to better results since we expect the full product title to be longer than the abbreviated title. Additionally, we implemented Alphabetized Optimization, in which we only perform Edit Distance calculations with products in buckets corresponding with the first letter of each word in the abbreviated title, in order to speed up calculations without sacrificing accuracy.  


## Running

Navigate to api directory. Type:
```
$ python3 receipt_reader.py
```
Open Postman.
Make a GET request for 127.00.1:5000/get-receipt-info.
Navigate to the Body tab and paste the body of api/test_files/publix_receipt.html here.
Click Send and wait for the results to appear!

# Gradient Boosted Decision Trees

This approach to understand receipt mappings involes the use of Gradient Boosted Decision Trees.

## Running

Open a terminal or command prompt. Navigate to the root directoy. Type:
```
$ jupyter notebook
```
Navigate to:
```
/approaches/gbdt/
```
First, run feature_engineering.ipynb which will generated a .csv file called featured_df.csv. featured_df.csv is needed for model_training.ipynb.
Run through all of model_training.ipynb to train a new Gradient Boosted Decision Trees model.
